<!DOCTYPE html>
<html lang="fr" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Inscription</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<nav class="navbar fixed-top navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="http://localhost:9003">Accueil</a>
        <a class="nav-link" href="/">Accueil connexion</a>
        <a th:if="${connected_id != null}" class="nav-link" th:href="@{'http://localhost:9002/' + ${connected_id}}">Mon panier</a>
        <a class="nav-link" th:href="@{/logout}">Se déconnecter</a>
    </div>
</nav>

<div class="container mx-auto align-content-center text-center" style="margin: 10%">

    <h1 th:if="${message != null}" th:text="${message}"></h1>
    <br><br>
    <form method="post" th:action="@{/account/data}" th:object="${user}">
        <h3 th:if="${messageData != null}" th:text="${messageData}"></h3>
        <p>Pseudo<input class="form-control" type="text" th:field="*{pseudo}" required></p>
        <p>Adresse<input class="form-control" type="text" th:field="*{address}" required></p>
        <p>Email<input class="form-control" type="email" th:field="*{email}" required></p>
        <p>Mot de passe<input class="form-control" type="password" placeholder="Mot de passe"
                              th:field="*{password}"
                              required>
        </p>

        <button class="btn btn-primary" type="submit">Mettre à jour mes données</button>
    </form>
    <br>
    <hr>
    <br>
    <form method="post" th:action="@{/account/password}" th:object="${user}">
        <h3 th:if="${messagePassword != null}" th:text="${messagePassword}"></h3>
        <input class="form-control" type="text" th:field="*{pseudo}" hidden>
        <input class="form-control" type="text" th:field="*{address}" hidden>
        <input class="form-control" type="email" th:field="*{email}" hidden>
        <p>Mot de passe actuel<input class="form-control" type="password" placeholder="Mot de passe actuel"
                                     th:field="*{actualPassword}"
                                     required></p>
        <p>Nouveau Mot de passe<input class="form-control" type="password" placeholder="Nouveau mot de passe"
                                      th:field="*{password}"
                                      required></p>
        <p>Confirmation nouveau mot de passe<input class="form-control" type="password"
                                                   placeholder="Confirmation nouveau mot de passe"
                                                   th:field="*{passwordConfirm}"
                                                   required>
        </p>

        <button class="btn btn-primary" type="submit">Mettre à jour mon mot de passe</button>
    </form>
</div>

</body>
</html>
